import { UseGuards, Req } from '@nestjs/common';
import { AuthGuard } from '@nestjs/passport';
import { Request } from 'express';

export class TestClass {

  @UseGuards(AuthGuard('jwt'))
  findAll(@Req() req: Request) {
    const user = req.user;
    const currentBranchId = +user['branchId'];
    return this.couponsService.create(currentBranchId);
  }

}
